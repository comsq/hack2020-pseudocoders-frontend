(this.webpackJsonphackathon=this.webpackJsonphackathon||[]).push([[0],{112:function(e,t,n){e.exports={user:"User_user__-bJlS",editorButton:"User_editorButton__XCQJ6"}},157:function(e,t,n){e.exports={app:"App_app__1kX79",router:"App_router__3W9nN"}},159:function(e,t,n){e.exports={spinnerWrapper:"PageSpinner_spinnerWrapper__2Kwx6",indicator:"PageSpinner_indicator__1MURC"}},200:function(e,t,n){e.exports={loginWrapper:"Login_loginWrapper__2rzG3"}},239:function(e,t,n){},240:function(e,t,n){},42:function(e,t,n){e.exports={removeButton:"Create_removeButton__1mZ_X",container:"Create_container__1yu4s",title:"Create_title__ZXhrt",description:"Create_description__2Smnj",preview:"Create_preview__2PFoA",paragraph:"Create_paragraph__KTCat",languges:"Create_languges__134fL",langugesTitle:"Create_langugesTitle__AMecW",selectLanguages:"Create_selectLanguages__38_Df",file:"Create_file__26DrL",fileName:"Create_fileName__3Rrmi",testHide:"Create_testHide__32DBf",addButton:"Create_addButton__1RMIv",saveButtonBlock:"Create_saveButtonBlock__PczEz",test:"Create_test__1p6Hi"}},43:function(e,t,n){e.exports={container:"Task_container__fnxTo",title:"Task_title__17f2i",author:"Task_author__2QMIz",languages:"Task_languages__1y38Q",languageItem:"Task_languageItem__1OLhj",test:"Task_test__Olo7V",testName:"Task_testName__1edoE",paragraph:"Task_paragraph__2nomt",file:"Task_file__3zvTt",fileTitle:"Task_fileTitle__ooVfH",fileContent:"Task_fileContent__3rXow",buttonBlock:"Task_buttonBlock__IqnWP",buttonEditor:"Task_buttonEditor__3EQMr",selectLang:"Task_selectLang__2WNG1",chekTaskButton:"Task_chekTaskButton__oh0pu",selectCheckTask:"Task_selectCheckTask__2zMMC",authorBlock:"Task_authorBlock__1QHzF"}},431:function(e,t,n){"use strict";n.r(t);var a,r,s=n(4),i=n(34),c=n(0),o=n.n(c),u=n(31),l=n.n(u),d=(n(239),n(157)),h=n.n(d),p=(n(240),n(45)),j=n(33),f=n(8),b=n.n(f),v=n(1),O=n(11),g=n(200),x=n.n(g),m=n(441),k=n(436),_=n(440),w=n(47),y=n(12),N=n(13),T=n(158),C=n(40),S=n.n(C),L=function(e){return new Promise((function(t){setTimeout(t,e)}))},I=function(e,t){try{return JSON.parse(e,t)}catch(n){return null}},E=function(e,t,n){try{return JSON.stringify(e,t,n)||""}catch(a){return""}},P=function(e){try{var t=localStorage.getItem(e);return null===t?t:I(t)}catch(n){return null}},B=function(e,t){try{localStorage.setItem(e,E(t))}catch(n){}},F=function(){function e(t){Object(y.a)(this,e),this.isLoading=!0,this.isLoaded=!1,this.hasError=!1,this.isConsumerInitialized=!1,this.updateTimeoutId=null,this.interval=3e3,this.data=void 0,this.action=void 0,this.action=t,Object(i.e)(this)}return Object(N.a)(e,[{key:"load",value:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,this.action();case 4:this.data=e.sent,this.hasError=!1,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),this.hasError=!0;case 12:return e.prev=12,this.isLoaded=!0,this.isLoading=!1,e.finish(12);case 16:case"end":return e.stop()}}),e,this,[[0,8,12,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWithSavingState",value:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.action();case 3:this.data=e.sent,this.hasError=!1,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),this.hasError=!0;case 11:return e.prev=11,this.isLoaded=!0,this.isLoading=!1,e.finish(11);case 15:case"end":return e.stop()}}),e,this,[[0,7,11,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadIfNotLoaded",value:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoaded){e.next=3;break}return e.next=3,this.load();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addConsumer",value:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConsumerInitialized){e.next=2;break}return e.abrupt("return");case 2:return this.isConsumerInitialized=!0,e.next=5,this.tick(this.loadWithSavingState.bind(this));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeConsumer",value:function(){this.isConsumerInitialized=!1,this.updateTimeoutId&&window.clearTimeout(this.updateTimeoutId)}},{key:"tick",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(this.updateTimeoutId&&window.clearTimeout(this.updateTimeoutId),this.isConsumerInitialized){e.next=5;break}return e.abrupt("return");case 5:this.updateTimeoutId=window.setTimeout((function(){return n.tick(t)}),this.interval);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function M(e){var t="user_type"in e&&e.user_type||"type"in e&&e.type;return Object(v.a)(Object(v.a)({},e),{},{isTeacher:t===r.teacher,isStudent:t===r.student,type:t})}function D(){return{login:function(e){return Object(O.a)(b.a.mark((function t(){var n,a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.login,a=e.password,t.next=3,S.a.post("/api/login/",{login:n,password:a});case 3:return r=t.sent,t.abrupt("return",M(r.data));case 5:case"end":return t.stop()}}),t)})))()},loadList:function(){return Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/users/");case 2:return t=e.sent,e.abrupt("return",t.data.map((function(e){return M(e)})));case 4:case"end":return e.stop()}}),e)})))()},editorStatus:function(e){return Object(O.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/tasks/editor/".concat(e,"/status/"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},startEditor:function(e){var t=this;return Object(O.a)(b.a.mark((function n(){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.post("/tasks/editor/".concat(e,"/start/"));case 2:return n.next=4,t.editorStatus(e);case 4:a=n.sent;case 5:if("running"===(null===(r=a)||void 0===r?void 0:r.status)){n.next=13;break}return n.next=8,L(1e3);case 8:return n.next=10,t.editorStatus(e);case 10:a=n.sent,n.next=5;break;case 13:return n.abrupt("return",a);case 14:case"end":return n.stop()}}),n)})))()},stopEditor:function(e){var t=this;return Object(O.a)(b.a.mark((function n(){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.post("/tasks/editor/".concat(e,"/stop/"));case 2:return n.next=4,t.editorStatus(e);case 4:a=n.sent;case 5:if("exited"===(null===(r=a)||void 0===r?void 0:r.status)){n.next=13;break}return n.next=8,L(1e3);case 8:return n.next=10,t.editorStatus(e);case 10:a=n.sent,n.next=5;break;case 13:return n.abrupt("return",a);case 14:case"end":return n.stop()}}),n)})))()}}}!function(e){e.student="student",e.teacher="teacher"}(r||(r={}));var z=(a=function(){function e(){Object(y.a)(this,e),this.api=D(),this.checkLogin=!1,this.user=null,this.editor=null,this.list=new F(this.api.loadList),Object(i.e)(this)}return Object(N.a)(e,[{key:"teachers",get:function(){var e;return null===(e=this.list.data)||void 0===e?void 0:e.filter((function(e){return e.isTeacher}))}},{key:"students",get:function(){var e;return null===(e=this.list.data)||void 0===e?void 0:e.filter((function(e){return e.isStudent}))}}]),Object(N.a)(e,[{key:"reset",value:function(){this.api=D(),this.checkLogin=!1,this.user=null,this.editor=null,this.list=new F(this.api.loadList)}},{key:"setUser",value:function(e){this.user=e,B("user",this.user)}},{key:"setEditor",value:function(e){this.editor=e}},{key:"setCheckLogin",value:function(){this.checkLogin=!0}},{key:"login",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,a=t.password,e.next=3,this.api.login({login:n,password:a});case 3:r=e.sent,this.setUser(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editorStatus",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.editorStatus(t);case 2:n=e.sent,this.setEditor(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startEditor",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.editor&&this.setEditor(Object(v.a)(Object(v.a)({},this.editor),{},{isLoading:!0})),e.next=3,this.api.startEditor(t);case 3:n=e.sent,this.setEditor(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopEditor",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.editor&&this.setEditor(Object(v.a)(Object(v.a)({},this.editor),{},{isLoading:!0})),e.next=3,this.api.stopEditor(t);case 3:n=e.sent,this.setEditor(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Object(T.a)(a.prototype,"teachers",[i.b],Object.getOwnPropertyDescriptor(a.prototype,"teachers"),a.prototype),Object(T.a)(a.prototype,"students",[i.b],Object.getOwnPropertyDescriptor(a.prototype,"students"),a.prototype),a),W=function(e){return"".concat(e.first_name," ").concat(e.last_name)},A=new z;var G=Object(j.a)((function(){function e(){return(e=Object(O.a)(b.a.mark((function e(t){var n,a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.login(t);case 3:e.next=11;break;case 5:e.prev=5,e.t0=e.catch(0),console.info(e.t0),r=null===(n=e.t0.response)||void 0===n?void 0:n.statusText,s=401===(null===(a=e.t0.response)||void 0===a?void 0:a.status)?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":r||e.t0.message,m.b.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438. ".concat(s));case 11:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){A.user&&Object(p.d)("/")}),[A.user]),Object(s.jsx)("div",{className:x.a.loginWrapper,children:Object(s.jsxs)(k.a,Object(v.a)(Object(v.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",onFinish:function(t){return e.apply(this,arguments)},children:[Object(s.jsx)(k.a.Item,{label:"Login",name:"login",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 login"}],children:Object(s.jsx)(_.a,{})}),Object(s.jsx)(k.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],children:Object(s.jsx)(_.a.Password,{})}),Object(s.jsx)(k.a.Item,Object(v.a)(Object(v.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(s.jsx)(w.a,{type:"primary",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})}))]}))})})),H=n(7),U=n(159),q=n.n(U),K=n(444),R=n(137);function V(){return Object(s.jsx)("div",{className:q.a.spinnerWrapper,children:Object(s.jsx)(R.a,{indicator:Object(s.jsx)(K.a,{className:q.a.indicator,spin:!0})})})}var J=Object(j.a)((function(){var e=Object(c.useState)(!1),t=Object(H.a)(e,2),n=t[0],a=t[1],r=Object(c.useRef)(!1);return Object(c.useEffect)((function(){r.current=!0,setTimeout((function(){r.current&&a(!0)}),5e3)}),[]),Object(c.useEffect)((function(){return function(){r.current=!1}}),[]),n?Object(s.jsx)(s.Fragment,{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}):Object(s.jsx)(V,{})}));var X=Object(j.a)((function(e){var t=e.children;return A.checkLogin?A.checkLogin&&!A.user?Object(s.jsx)(p.b,{to:"/login",noThrow:!0}):t:Object(s.jsx)(R.a,{})})),Q=n(433),Z=n(64),Y=n(112),$=n.n(Y),ee=n(208),te=n.n(ee);function ne(){return{loadLanguages:function(){return Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/languages/");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},saveTask:function(e){return Object(O.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("/api/tasks/create/",Object(v.a)(Object(v.a)({},e),{},{slug:te()(e.name)}));case 2:return n=t.sent,t.abrupt("return",n.status);case 4:case"end":return t.stop()}}),t)})))()}}}var ae=new(function(){function e(){Object(y.a)(this,e),this.api=ne(),this.languages=[],this.saveProcess=!1,this.saveStatus=0,Object(i.e)(this)}return Object(N.a)(e,[{key:"reset",value:function(){this.api=ne(),this.languages=[],this.saveProcess=!1,this.saveStatus=0}},{key:"setLanguages",value:function(e){this.languages=e}},{key:"getLanguages",value:function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.loadLanguages();case 2:t=e.sent,this.setLanguages(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveTask",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.saveProcess=!0,e.next=3,this.api.saveTask(t);case 3:return n=e.sent,this.saveProcess=!1,this.saveStatus=n,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}());function re(){return{loadTask:function(e){return Object(O.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/tasks/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},loadList:function(){return Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/tasks/");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},loadListByUser:function(e){return Object(O.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("/api/users/".concat(e,"/tasks/"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},sendTask:function(e,t,n){return Object(O.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.post("/tasks/verify/user/".concat(e,"/task/").concat(t,"/language/").concat(n));case 2:case"end":return a.stop()}}),a)})))()}}}var se,ie=new(function(){function e(){Object(y.a)(this,e),this.api=re(),this.task=null,this.listUser=null,this.list=new F(this.api.loadList),Object(i.e)(this)}return Object(N.a)(e,[{key:"reset",value:function(){this.api=re(),this.task=null,this.listUser=null,this.list=new F(this.api.loadList)}},{key:"getTask",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.loadTask(t);case 2:n=e.sent,this.task=n;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListByUser",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.loadListByUser(t);case 2:n=e.sent,this.listUser=n;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendTask",value:function(){var e=Object(O.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.sendTask(t,n,a);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}());function ce(){return{loadList:function(){return Object(O.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=A.user)||void 0===t?void 0:t.id){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,S.a.get("api/users/".concat(n,"/task_checks/"));case 5:return a=e.sent,e.abrupt("return",a.data.sort((function(e,t){return t.date-e.date})));case 7:case"end":return e.stop()}}),e)})))()}}}!function(e){e.running="running",e.stopped="stopped",e.ce="ce",e.re="re",e.tle="tle",e.wa="wa",e.ok="ok"}(se||(se={}));var oe=new(function(){function e(){Object(y.a)(this,e),this.api=ce(),this.list=new F(this.api.loadList)}return Object(N.a)(e,[{key:"reset",value:function(){this.api=ce(),this.list=new F(this.api.loadList)}}]),e}());function ue(){return{loadList:function(){return Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("api/groups/");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},createGroup:function(e){return Object(O.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.post("api/groups/",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},editGroup:function(e,t){return Object(O.a)(b.a.mark((function n(){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.a.patch("api/groups/".concat(e,"/"),t);case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})))()}}}var le=new(function(){function e(){Object(y.a)(this,e),this.api=ue(),this.list=new F(this.api.loadList),this.isLoading=!1,Object(i.e)(this)}return Object(N.a)(e,[{key:"reset",value:function(){this.api=ue(),this.list=new F(this.api.loadList),this.isLoading=!1}},{key:"createGroup",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,this.api.createGroup(t);case 3:return n=e.sent,e.next=6,this.list.loadWithSavingState();case 6:return this.isLoading=!1,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editGroup",value:function(){var e=Object(O.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,this.api.editGroup(t,n);case 3:return a=e.sent,e.next=6,this.list.loadWithSavingState();case 6:return this.isLoading=!1,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}());var de=Object(j.a)((function(){var e=A.user,t=A.editor,n="running"===(null===t||void 0===t?void 0:t.status),a=n?"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440":"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440",r=null===t||void 0===t?void 0:t.isLoading;return Object(c.useEffect)((function(){e&&A.editorStatus(e.id)}),[]),Object(s.jsxs)("div",{className:$.a.user,children:[Object(s.jsx)("div",{className:$.a.email,children:null===e||void 0===e?void 0:e.email}),Object(s.jsx)(w.a,{className:$.a.editorButton,onClick:n?function(){e&&A.stopEditor(e.id)}:function(){e&&A.startEditor(e.id)},danger:n,loading:r,children:!r&&a}),Object(s.jsx)(w.a,{className:$.a.logOutButton,onClick:function(){[A,ae,ie,oe,le].forEach((function(e){return e.reset()})),localStorage.clear(),Object(p.d)("/")},children:"\u0412\u044b\u0439\u0442\u0438"})]})})),he=n.p+"static/media/icon.4a0e31b8.svg",pe=n(85),je=n.n(pe),fe=function(){var e,t=(e=window).open.apply(e,arguments);return t?(t.opener=null,t):t},be=Q.a.Header,ve=Q.a.Content,Oe=Q.a.Footer;function ge(e){var t=e.children,n=e.indexMenuItem,a=e.menuItems,r=e.setIndexMenuItem;return Object(s.jsxs)(Q.a,{children:[Object(s.jsx)(be,{children:Object(s.jsxs)(Z.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["".concat(n)],children:[Object(s.jsx)(Z.a.Item,{className:je.a.logoItem,onClick:function(){return Object(p.d)("/")},children:Object(s.jsxs)("div",{className:je.a.logoBlock,children:[Object(s.jsx)("img",{alt:"logo",className:je.a.logoIcon,src:he})," ",Object(s.jsx)("p",{className:je.a.logoText,children:"Pseudocoders"})]})},"logo"),a.map((function(e,t){return Object(s.jsx)(Z.a.Item,{onClick:function(){r(t),e.path.startsWith("http")?fe(e.path,"_blank"):Object(p.d)("/".concat(e.path))},children:e.title},"".concat(t))})),Object(s.jsx)(de,{})]})}),Object(s.jsx)(ve,{className:je.a.content,children:t}),Object(s.jsx)(Oe,{className:je.a.footer,children:"Pseudocoders \xa92020"})]})}var xe=function(e){return e.filter(Boolean)};var me=Object(j.a)((function(e){var t=e.path,n=e.children,a=function(){var e,t;return xe([{title:"\u0417\u0430\u0434\u0430\u0447\u0438",path:"tasks"},(null===(e=A.user)||void 0===e?void 0:e.type)===r.teacher&&{title:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438",path:"students"},{title:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440",path:"monitoring"},"running"===(null===(t=A.editor)||void 0===t?void 0:t.status)&&{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440",path:"http://api.pseudocoders.online:".concat(A.editor.port)}])}(),i=a.findIndex((function(e){return e.path===t}));if(-1===i)throw new Error("invalid path");var o=Object(c.useState)(i),u=Object(H.a)(o,2),l=u[0],d=u[1];return Object(s.jsx)(ge,{menuItems:a,indexMenuItem:l,setIndexMenuItem:d,children:n})})),ke=n(10),_e=n(42),we=n.n(_e),ye=n(210),Ne=n.n(ye),Te=n(110);function Ce(e){return Object(s.jsx)(Te.a,Object(v.a)({showSearch:!0,notFoundContent:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",filterOption:function(e,t){return null===t||void 0===t?void 0:t.children.toLowerCase().includes(e.toLowerCase())}},e))}Ce.Option=Te.a.Option;var Se=n(446),Le=n(447),Ie=(n(198),n(434)),Ee=n(445),Pe=_.a.TextArea,Be=function(e){var t=e.input,n=e.output,a=e.idx,r=e.onChangeTests,i=e.onDelete,o=Object(c.useCallback)((function(e){return function(t){r(t.target.value,a,e)}}),[]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("p",{className:we.a.testHide,children:["\u0422\u0435\u0441\u0442 ",a+1,Object(s.jsx)(w.a,{className:we.a.removeButton,onClick:i,icon:Object(s.jsx)(Ee.a,{}),shape:"circle",danger:!0})]}),Object(s.jsxs)("div",{className:we.a.test,children:[Object(s.jsxs)("div",{className:we.a.file,children:[Object(s.jsx)("p",{className:we.a.fileName,children:"input.txt"}),Object(s.jsx)(Pe,{value:t,rows:4,onChange:o("input")})]}),Object(s.jsxs)("div",{className:we.a.file,children:[Object(s.jsx)("p",{className:we.a.fileName,children:"output.txt"}),Object(s.jsx)(Pe,{value:n,rows:4,onChange:o("output")})]})]})]})},Fe=Ce.Option,Me={toolbar:[[{header:[1,2,!1]}],[{color:["#FFFFFF","#000000","#3072C4","#228007","#CE0014","#D97E00","#7A1871","#F2F2F2","#808080","#1D85D0","#3F9726","#D70C17","#F69C00","#B254AA"]},"bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","code"],["clean"]]},De=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","code","color"],ze="TASK_NAME",We="TASK_DESCRIPTION",Ae="TASK_LANGUAGES",Ge="TASK_TESTS",He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=localStorage.getItem(e);return n?JSON.parse(n):t};var Ue=Object(j.a)((function(){Object(c.useEffect)((function(){Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getLanguages();case 2:case"end":return e.stop()}}),e)})))()}),[]);var e=Object(c.useState)(He(We)),t=Object(H.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(He(Ge,[{input:"",output:""}])),i=Object(H.a)(r,2),o=i[0],u=i[1],l=Object(c.useState)(He(ze)),d=Object(H.a)(l,2),h=d[0],p=d[1],j=Object(c.useState)(He(Ae,[])),f=Object(H.a)(j,2),g=f[0],x=f[1],k=Object(c.useCallback)((function(){Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.saveTask({author:null===(t=A.user)||void 0===t?void 0:t.id,name:He(ze),languages:He(Ae),description:He(We),tests:He(Ge)});case 2:(n=e.sent)>=200&&n<300?(m.b.success("\u0417\u0430\u0434\u0430\u0447\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430!"),[ze,We,Ae,Ge,"IS_SAVE"].forEach((function(e){localStorage.removeItem(e)})),window.location.pathname="/tasks"):m.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437");case 4:case"end":return e.stop()}}),e)})))()}),[]),y=Object(Ie.a)((function(e,t){!function(e,t){localStorage.setItem(e,JSON.stringify(t))}(e,t)}),300),N=Object(c.useCallback)((function(e){var t=e.target.value;p(t),y.callback(ze,t)}),[p]),T=Object(c.useCallback)((function(e){a(e),y.callback(We,e)}),[a]),C=Object(c.useCallback)((function(e){x(e),y.callback(Ae,e)}),[]),S=Object(c.useCallback)((function(e,t,n){var a=Object(ke.a)(o);a[t][n]=e,u(a),y.callback(Ge,a)}),[o]),L=Object(c.useCallback)((function(){u([].concat(Object(ke.a)(o),[{input:"",output:""}]))}),[u,o]),I=function(e){return function(){var t=o.filter((function(t,n){return n!==e}));u(t),y.callback(Ge,t)}},E=Object(c.useMemo)((function(){return ae.languages.map((function(e){return Object(s.jsx)(Fe,{value:e.slug,children:e.name},e.slug)}))}),[ae.languages]);return Object(s.jsx)("div",{className:we.a.createTask,children:Object(s.jsxs)("div",{className:we.a.container,children:[Object(s.jsx)("h1",{className:we.a.title,children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(s.jsx)("p",{className:we.a.description,children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438. \u0414\u043b\u044f \u043a\u0440\u0430\u0441\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u0446\u0432\u0435\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u0441\u043f\u0438\u0441\u043a\u0438 \u0438 \u043a\u043e\u0434."}),Object(s.jsxs)("div",{className:we.a.languges,children:[Object(s.jsx)("div",{className:we.a.langugesTitle,children:"\u042f\u0417\u042b\u041a\u0418 \u041f\u0420\u041e\u0413\u0420\u0410\u041c\u041c\u0418\u0420\u041e\u0412\u0410\u041d\u0418\u042f"}),Object(s.jsx)(Ce,{className:we.a.selectLanguages,mode:"tags",size:"middle",placeholder:"Please select",defaultValue:g,onChange:C,style:{minWidth:"200px"},children:E})]}),Object(s.jsx)("div",{style:{marginBottom:16},children:Object(s.jsx)(_.a,{value:h,onChange:N,addonBefore:"\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415 \u0417\u0410\u0414\u0410\u0427\u0418",placeholder:"\u0411\u0438\u0444\u0448\u0442\u0435\u043a\u0441\u044b..."})}),Object(s.jsx)("div",{className:"text-editor",children:Object(s.jsx)(Ne.a,{theme:"snow",modules:Me,formats:De,value:n,onChange:T})}),(n||h)&&Object(s.jsxs)("div",{className:we.a.preview,children:[Object(s.jsx)("h3",{className:we.a.paragraph,children:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"}),Object(s.jsx)("h2",{children:h}),Object(s.jsx)("div",{style:{padding:0},className:"ql-editor",dangerouslySetInnerHTML:{__html:n}})]}),Object(s.jsx)("h3",{className:we.a.paragraph,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u044b"}),o.map((function(e,t){return Object(s.jsx)(Be,Object(v.a)(Object(v.a)({idx:t},e),{},{onChangeTests:S,onDelete:I(t)}),t)})),Object(s.jsx)(w.a,{className:we.a.addButton,onClick:L,icon:Object(s.jsx)(Se.a,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0441\u0442"}),Object(s.jsx)("div",{className:we.a.saveButtonBlock,children:Object(s.jsx)(w.a,{type:"primary",onClick:k,icon:Object(s.jsx)(Le.a,{}),children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})})]})})}));var qe=Object(j.a)((function(){return console.log("here"),Object(s.jsx)(X,{children:Object(s.jsx)(me,{path:"tasks",children:Object(s.jsx)(Ue,{})})})})),Ke=n(86),Re=n.n(Ke),Ve=n(439),Je=n(442),Xe=n(437),Qe=Ce.Option;var Ze=Object(j.a)((function(){var e="currentGroupId",t=Object(c.useState)(),n=Object(H.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(H.a)(i,2),u=o[0],l=o[1],d=Object(c.useState)(!1),h=Object(H.a)(d,2),j=h[0],f=h[1],v=j,g=Object(c.useRef)(!1);function x(){return(x=Object(O.a)(b.a.mark((function t(){var n,a,s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=P(e),(s=null===(n=le.list.data)||void 0===n?void 0:n.find((function(e){return e.id===a})))&&r(s),t.next=5,le.list.loadWithSavingState();case 5:return t.next=7,A.list.loadWithSavingState();case 7:return t.next=9,ie.list.loadWithSavingState();case 9:s||(s=a?le.list.data.find((function(e){return e.id===a})):null===(i=le.list.data)||void 0===i?void 0:i[0]),g.current&&r(s);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(Object(c.useEffect)((function(){return g.current=!0,function(){x.apply(this,arguments)}(),function(){g.current=!1}}),[]),le.list.isLoading||A.list.isLoading||ie.list.isLoading||!a)return Object(s.jsx)(V,{});if(le.list.hasError)return Object(s.jsx)(s.Fragment,{children:"\u0413\u0440\u0443\u043f\u043f\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b"});function y(t){var n=le.list.data.find((function(e){return e.id===t}));r(n),B(e,null===n||void 0===n?void 0:n.id)}function N(e){return T.apply(this,arguments)}function T(){return(T=Object(O.a)(b.a.mark((function e(t){var n,s,i,c,o,u,d,h,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,s=t.studentIds,i=t.taskIds,e.prev=1,c=null,!v){e.next=9;break}return e.next=6,le.editGroup(a.id,{name:n,users:s,tasks:i});case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,le.createGroup({name:n,users:s,tasks:i,owner:A.user.id,slug:n+Math.random()});case 11:c=e.sent;case 12:l(!1),f(!1),c&&r(c),o="\u0413\u0440\u0443\u043f\u043f\u0430 ".concat(n,v?" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430!":" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430!"),m.b.success(o),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(1),console.info(e.t0),h=null===(u=e.t0.response)||void 0===u?void 0:u.statusText,p=401===(null===(d=e.t0.response)||void 0===d?void 0:d.status)?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":h||e.t0.message,m.b.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c ".concat(v?"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c"," \u0433\u0440\u0443\u043f\u043f\u0443. ").concat(p));case 25:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function C(){l(!1),f(!1)}return Object(s.jsxs)("div",{className:Re.a.groups,children:[function(){var e=v?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b ".concat(null===a||void 0===a?void 0:a.name):"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",t=v&&a?{name:a.name,taskIds:a.tasks,studentIds:a.users}:void 0;return Object(s.jsx)(Ve.a,{onCancel:C,title:e,footer:null,visible:u||j,destroyOnClose:!0,children:Object(s.jsxs)(k.a,{name:"basic",initialValues:t,onFinish:N,children:[Object(s.jsx)(k.a.Item,{label:"\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b"}],children:Object(s.jsx)(_.a,{})}),Object(s.jsx)(k.a.Item,{name:"studentIds",label:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u0443\u0447\u0435\u043d\u0438\u043a\u0430"}],children:Object(s.jsx)(Ce,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432",mode:"multiple",children:A.students.map((function(e){return Object(s.jsx)(Qe,{value:e.id,children:W(e)},e.id)}))})}),Object(s.jsx)(k.a.Item,{name:"taskIds",label:"\u0417\u0430\u0434\u0430\u0447\u0438",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0437\u0430\u0434\u0430\u0447\u0443"}],children:Object(s.jsx)(Ce,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",mode:"multiple",children:ie.list.data.filter((function(e){var t;return e.author.id===(null===(t=A.user)||void 0===t?void 0:t.id)})).map((function(e){return Object(s.jsx)(Qe,{value:e.id,children:e.name},e.id)}))})}),Object(s.jsxs)("div",{className:Re.a.footer,children:[Object(s.jsx)(k.a.Item,{children:Object(s.jsx)(w.a,{loading:le.isLoading,type:"primary",htmlType:"submit",children:v?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(s.jsx)(k.a.Item,{children:Object(s.jsx)(w.a,{onClick:C,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})})]})]})})}(),Object(s.jsxs)("div",{className:Re.a.subHeader,children:[function(){var e=le.list.data.filter((function(e){var t;return e.owner===(null===(t=A.user)||void 0===t?void 0:t.id)})).map((function(e){return Object(s.jsx)(Qe,{value:e.id,children:e.name},e.id)}));return Object(s.jsx)(k.a.Item,{label:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432",children:Object(s.jsx)(Ce,{value:null===a||void 0===a?void 0:a.id,style:{width:300},onChange:y,children:e})})}(),Object(s.jsx)(w.a,{onClick:function(){return f(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"}),Object(s.jsx)(w.a,{type:"primary",onClick:function(){return l(!0)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"})]}),Object(s.jsxs)("div",{className:Re.a.studentsAndTasks,children:[Object(s.jsx)(Je.b,{locale:{emptyText:"\u0412 \u044d\u0442\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043d\u0435\u0442 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432"},header:Object(s.jsx)(Xe.a,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435"}),className:Re.a.students,itemLayout:"horizontal",dataSource:A.list.data.filter((function(e){return a.users.includes(e.id)})),renderItem:function(e){return Object(s.jsx)(Je.b.Item,{children:W(e)})}}),Object(s.jsx)(Je.b,{locale:{emptyText:"\u0412 \u044d\u0442\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447"},header:Object(s.jsx)(Xe.a,{title:"\u0417\u0430\u0434\u0430\u0447\u0438 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435"}),className:Re.a.tasks,itemLayout:"horizontal",dataSource:ie.list.data.filter((function(e){return a.tasks.includes(e.id)})),renderItem:function(e){return Object(s.jsx)(Je.b.Item,{children:Object(s.jsx)(p.a,{to:"/task/".concat(e.slug),children:e.name})})}})]})]})}));var Ye=Object(j.a)((function(){return Object(s.jsx)(X,{children:Object(s.jsx)(me,{path:"students",children:Object(s.jsx)(Ze,{})})})})),$e=n(79),et=n.n($e),tt=n(438),nt=n(443),at=n(435),rt=n(140),st=n.n(rt),it=n(448);var ct=Object(j.a)((function(){var e,t=Object(c.useState)(""),n=Object(H.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(""),u=Object(H.a)(o,2),l=u[0],d=u[1],h=Object(c.useRef)(),p=(null===(e=A.user)||void 0===e?void 0:e.type)===r.teacher;if(Object(c.useEffect)((function(){return oe.list.addConsumer(),function(){oe.list.removeConsumer()}}),[]),oe.list.isLoading)return Object(s.jsx)(V,{});if(oe.list.hasError)return Object(s.jsx)(s.Fragment,{children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"});function j(e){return function(t,n){return String(t[e]).localeCompare(String(n[e]))}}function f(e){switch(e){case se.ok:return"success";case se.running:return"active";default:return"exception"}}function b(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,r=t.confirm,c=t.clearFilters;return Object(s.jsxs)("div",{style:{padding:8},children:[Object(s.jsx)(_.a,{ref:h,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return O(a,r,e)},className:et.a.searchInput}),Object(s.jsxs)(nt.b,{children:[Object(s.jsx)(w.a,{type:"primary",onClick:function(){return O(a,r,e)},icon:Object(s.jsx)(it.a,{}),size:"small",className:et.a.searchButton,children:"\u041f\u043e\u0438\u0441\u043a"}),Object(s.jsx)(w.a,{onClick:function(){return function(e){e(),i("")}(c)},size:"small",className:et.a.searchButton,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})},filterIcon:function(e){return Object(s.jsx)(it.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){var e;return null===(e=h.current)||void 0===e?void 0:e.select()}),100)},render:function(t){return l===e?Object(s.jsx)(st.a,{highlightClassName:et.a.highlight,searchWords:[a],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}}function O(e,t,n){t(),i(e[0]),d(n)}return Object(s.jsx)("div",{className:et.a.courses,children:Object(s.jsx)(at.a,{locale:{emptyText:p?"\u0423\u0447\u0435\u043d\u0438\u043a\u0438 \u0435\u0449\u0435 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f":"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f"},dataSource:oe.list.data.map((function(e){var t=e.date,n=e.user,a=e.task,r=e.task_author,i=e.language,c=e.id,o=e.passed_tests_count,u=e.tests_count,l=e.status,d=new Date(t),h=Math.round(100*o/u);return{key:c,dateObj:d,date:"".concat(d.toLocaleDateString()," ").concat(d.toLocaleTimeString()),userName:W(p?n:r),taskName:a.name,language:i.name,testCount:"".concat(o,"/").concat(u),status:Object(s.jsxs)("div",{className:et.a.status,children:[Object(s.jsx)(tt.a,{type:"circle",width:30,percent:h,status:f(l)}),Object(s.jsx)("div",{className:et.a[l],children:l})]})}})),columns:xe([{title:"\u0414\u0430\u0442\u0430",dataIndex:"date",sorter:function(e,t){return Number(e.dateObj)-Number(t.dateObj)}},p?Object(v.a)({title:"\u0423\u0447\u0435\u043d\u0438\u043a",dataIndex:"userName",sorter:j("userName")},b("userName")):Object(v.a)({title:"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438",dataIndex:"userName",sorter:j("userName")},b("userName")),Object(v.a)({title:"\u0417\u0430\u0434\u0430\u0447\u0430",dataIndex:"taskName",sorter:j("taskName")},b("taskName")),Object(v.a)({title:"\u042f\u0437\u044b\u043a",dataIndex:"language",sorter:j("language")},b("language")),{title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",dataIndex:"status"},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432",dataIndex:"testCount"}])})})}));var ot=Object(j.a)((function(){return Object(s.jsx)(X,{children:Object(s.jsx)(me,{path:"monitoring",children:Object(s.jsx)(ct,{})})})})),ut=n(43),lt=n.n(ut),dt=Ce.Option;var ht=Object(j.a)((function(e){var t,n,a,i,u=e.slug,l=null===(t=A.editor)||void 0===t?void 0:t.port,d=null===(n=A.user)||void 0===n?void 0:n.login,h=Object(c.useState)(""),p=Object(H.a)(h,2),j=p[0],f=p[1];Object(c.useEffect)((function(){Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.getTask(u);case 2:case"end":return e.stop()}}),e)})))()}),[]);var v=Object(c.useCallback)((function(){console.log("lang",j),Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.sendTask(null===(t=A.user)||void 0===t?void 0:t.id,ie.task.id,j);case 2:window.location.pathname="/monitoring";case 3:case"end":return e.stop()}}),e)})))()}),[j,A.user,ie.task]),g=null===(a=A.user)||void 0===a?void 0:a.type,x=me,m=Object(c.useMemo)((function(){var e;return null===(e=ie.task)||void 0===e?void 0:e.languages.map((function(e){return Object(s.jsx)(dt,{value:e.id,children:e.name},e.id)}))}),[ie.task]);return Object(s.jsx)(x,{path:"tasks",children:ie.task?Object(s.jsxs)("div",{className:lt.a.container,children:[ie.task.name&&Object(s.jsx)("h1",{className:lt.a.title,children:ie.task.name}),Object(s.jsxs)("div",{className:lt.a.authorBlock,children:[ie.task.author&&Object(s.jsxs)("p",{className:lt.a.author,children:[ie.task.author.first_name," ",ie.task.author.first_name," (",ie.task.author.login,")"]}),ie.task.languages&&Object(s.jsx)("div",{className:lt.a.languages,children:ie.task.languages.map((function(e,t){return Object(s.jsx)("div",{className:lt.a.languageItem,children:e.name},t)}))})]}),ie.task.description&&Object(s.jsx)("div",{style:{padding:"30px 0"},className:"ql-editor",dangerouslySetInnerHTML:{__html:ie.task.description}}),ie.task.tests&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{className:lt.a.paragraph,children:"\u041f\u0420\u0418\u041c\u0415\u0420\u042b \u0422\u0415\u0421\u0422\u041e\u0412:"}),ie.task.tests.map((function(e,t){var n=e.input,a=e.output;return Object(s.jsxs)(o.a.Fragment,{children:[Object(s.jsxs)("p",{className:lt.a.testName,children:["Test ",t+1]}),Object(s.jsxs)("div",{className:lt.a.test,children:[Object(s.jsxs)("div",{className:lt.a.file,children:[Object(s.jsx)("p",{className:lt.a.fileTitle,children:"input.txt"}),Object(s.jsx)("div",{className:lt.a.fileContent,dangerouslySetInnerHTML:{__html:n}})]}),Object(s.jsxs)("div",{className:lt.a.file,children:[Object(s.jsx)("p",{className:lt.a.fileTitle,children:"output.txt"}),Object(s.jsx)("div",{className:lt.a.fileContent,dangerouslySetInnerHTML:{__html:a}})]})]})]},t)}))]}),Object(s.jsx)("div",{className:lt.a.buttonBlock,children:g===r.student?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:lt.a.selectCheckTask,children:[Object(s.jsx)(w.a,{className:lt.a.chekTaskButton,onClick:v,disabled:!(null===(i=A.user)||void 0===i?void 0:i.id)||!j||!ie.task.id,type:"primary",children:"\u0421\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(s.jsx)(Ce,{className:lt.a.selectLang,onChange:f,defaultValue:"",children:m})]}),Object(s.jsx)(w.a,{className:lt.a.buttonEditor,disabled:!(l&&d),href:"http://api.pseudocoders.online:".concat(l,"/?folder=/home/").concat(d,"/project/").concat(u),target:"_blank",rel:"noopener noreferrer",type:"primary",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u043a\u043e\u0434\u0430"})]}):Object(s.jsx)(w.a,{href:"task/".concat(u,"/edit"),type:"primary",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})})]}):Object(s.jsx)(V,{})})})),pt=n(87),jt=n.n(pt);var ft=Object(j.a)((function(){var e=A.user;Object(c.useEffect)((function(){Object(O.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,ie.getListByUser(null===(n=A.user)||void 0===n?void 0:n.id);case 3:case"end":return t.stop()}}),t)})))()}),[e]);var t=ie.listUser,n=Object(c.useState)(""),a=Object(H.a)(n,2),i=a[0],o=a[1],u=Object(c.useState)(""),l=Object(H.a)(u,2),d=l[0],h=l[1],j=Object(c.useRef)();function f(e){return function(t,n){return String(t[e]).localeCompare(String(n[e]))}}function g(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,r=t.confirm,i=t.clearFilters;return Object(s.jsxs)("div",{style:{padding:8},children:[Object(s.jsx)(_.a,{ref:j,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return x(a,r,e)},className:jt.a.searchInput}),Object(s.jsxs)(nt.b,{children:[Object(s.jsx)(w.a,{type:"primary",onClick:function(){return x(a,r,e)},icon:Object(s.jsx)(it.a,{}),size:"small",className:jt.a.searchButton,children:"\u041f\u043e\u0438\u0441\u043a"}),Object(s.jsx)(w.a,{onClick:function(){return function(e){e(),o("")}(i)},size:"small",className:jt.a.searchButton,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})},filterIcon:function(e){return Object(s.jsx)(it.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){var e;return null===(e=j.current)||void 0===e?void 0:e.select()}),100)},render:function(t){return d===e?Object(s.jsx)(st.a,{highlightClassName:jt.a.highlight,searchWords:[i],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}}function x(e,t,n){t(),o(e[0]),h(n)}return t?Object(s.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.type)===r.teacher&&Object(s.jsx)(w.a,{type:"primary",onClick:function(){return Object(p.d)("/create")},className:jt.a.createButton,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(s.jsx)(at.a,{locale:{emptyText:(null===e||void 0===e?void 0:e.type)===r.teacher?"\u0412\u044b \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438":"\u0414\u043b\u044f \u0432\u0430\u0441 \u043d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447"},dataSource:t.map((function(t){var n=t.author,a=t.languages,i=t.name,c=t.slug,o=t.verdict,u=t.id,l=function(e){return e?{title:e,className:e}:{title:"no solution",className:"no-solution"}}(o),d=(null===e||void 0===e?void 0:e.type)===r.teacher?void 0:Object(s.jsx)("div",{className:jt.a[l.className],children:l.title});return{author:W(n),name:Object(s.jsx)(p.a,{to:"/task/".concat(c),children:i}),languages:a.map((function(e){return e.name})).join(" "),verdict:d,key:u}})),columns:function(){var e,t,n=[{title:"\u0417\u0430\u0434\u0430\u0447\u0430",dataIndex:"name"},(null===(e=A.user)||void 0===e?void 0:e.type)===r.student&&Object(v.a)({title:"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438",dataIndex:"author",sorter:f("author")},g("author")),Object(v.a)({title:"\u042f\u0437\u044b\u043a\u0438",dataIndex:"languages",sorter:f("languages")},g("languages")),(null===(t=A.user)||void 0===t?void 0:t.type)===r.student&&{title:"\u0412\u0435\u0440\u0434\u0438\u043a\u0442",dataIndex:"verdict"}].filter(Boolean);return xe(n)}()})]}):Object(s.jsx)(V,{})}));var bt=Object(j.a)((function(){return Object(s.jsx)(X,{children:Object(s.jsx)(me,{path:"tasks",children:Object(s.jsx)(ft,{})})})}));var vt=Object(j.a)((function(){var e,t;return Object(c.useEffect)((function(){var e=P("user");e?A.setUser(e):Object(p.d)("/login"),A.setCheckLogin()}),[null===(e=A.user)||void 0===e?void 0:e.id]),Object(s.jsx)("div",{className:h.a.app,children:Object(s.jsxs)(p.c,{className:h.a.router,children:[(null===(t=A.user)||void 0===t?void 0:t.type)===r.teacher&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(qe,{path:"/create"}),Object(s.jsx)(Ye,{path:"/students"})]}),Object(s.jsx)(ot,{path:"/monitoring"}),Object(s.jsx)(bt,{path:"/"}),Object(s.jsx)(bt,{path:"/tasks"}),Object(s.jsx)(G,{path:"/login"}),Object(s.jsx)(ht,{path:"/task/:slug"}),Object(s.jsx)(J,{default:!0})]})})}));(function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,449)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))})(),Object(i.c)({reactionScheduler:function(e){setTimeout(e)},enforceActions:"never"}),S.a.defaults.baseURL="https://api.pseudocoders.online/",l.a.render(Object(s.jsx)(vt,{}),document.querySelector("#root"))},79:function(e,t,n){e.exports={monitorPage:"MonitorPage_monitorPage__3Swvy",searchInput:"MonitorPage_searchInput__2zUrS",searchButton:"MonitorPage_searchButton__9755l",highlight:"MonitorPage_highlight__2HHpn",status:"MonitorPage_status__1t-Hc",running:"MonitorPage_running__3B_bI",stopped:"MonitorPage_stopped__2ciuC",ce:"MonitorPage_ce__lzXwx",re:"MonitorPage_re__1d08p",tle:"MonitorPage_tle__2tGX7",wa:"MonitorPage_wa__2Avzh",ok:"MonitorPage_ok__2MvUh"}},85:function(e,t,n){e.exports={logoBlock:"DefaultLayout_logoBlock__ddWDw",logoText:"DefaultLayout_logoText__1oA1v",logoIcon:"DefaultLayout_logoIcon__3qpVq",content:"DefaultLayout_content__3epWu",footer:"DefaultLayout_footer__2qlk-",logo:"DefaultLayout_logo__3goRY"}},86:function(e,t,n){e.exports={groups:"GroupsPage_groups__LjNlr",studentsAndTasks:"GroupsPage_studentsAndTasks__2zGq8",subHeader:"GroupsPage_subHeader__2qgjy",footer:"GroupsPage_footer__3XtVy"}},87:function(e,t,n){e.exports={searchInput:"TasksPage_searchInput__1m2Ex",searchButton:"TasksPage_searchButton__2lSiU",highlight:"TasksPage_highlight__2OtSK",running:"TasksPage_running__20DRu",stopped:"TasksPage_stopped__36qA5",ce:"TasksPage_ce__3Qj3t",re:"TasksPage_re__2xrwl",tle:"TasksPage_tle__OCOv8",wa:"TasksPage_wa__w8slL",ok:"TasksPage_ok__1MqG_","no-solution":"TasksPage_no-solution__Wardw",status:"TasksPage_status__3cKfZ",createButton:"TasksPage_createButton__3EsSP"}}},[[431,1,2]]]);
//# sourceMappingURL=main.6f0ab52b.chunk.js.map