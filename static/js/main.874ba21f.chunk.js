(this.webpackJsonphackathon=this.webpackJsonphackathon||[]).push([[0],{111:function(e,t,n){e.exports={appHeader:"AppHeader_appHeader__1rCT3"}},114:function(e,t,n){e.exports={loginWrapper:"Login_loginWrapper__2rzG3"}},139:function(e,t,n){},140:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var r,s=n(5),a=n(14),c=n(0),i=n(15),o=n.n(i),u=(n(139),n(84)),l=n.n(u),p=(n(140),n(35)),d=n(111),h=n.n(d),j=n(9),b=n(12),f=n(11),O=n.n(f),v=n(24),x=n(64),g=n.n(x),m=function(e,t){try{return JSON.parse(e,t)}catch(n){return null}},w=function(e,t,n){try{return JSON.stringify(e,t,n)||""}catch(r){return""}},k=function(e){try{var t=localStorage.getItem(e);return null===t?t:m(t)}catch(n){return null}},_=function(e,t){try{localStorage.setItem(e,w(t))}catch(n){}};!function(e){e.student="student",e.teacher="teacher"}(r||(r={}));var L=new(function(){function e(){Object(j.a)(this,e),this.api={login:function(e){return Object(v.a)(O.a.mark((function t(){var n,r,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.login,r=e.password,t.next=3,g.a.post("/api/login/",{login:n,password:r});case 3:return s=t.sent,t.abrupt("return",s.data);case 5:case"end":return t.stop()}}),t)})))()}},this.checkLogin=!1,this.user=null,Object(a.d)(this)}return Object(b.a)(e,[{key:"setUser",value:function(e){this.user=e,_("user",this.user)}},{key:"setCheckLogin",value:function(){this.checkLogin=!0}},{key:"login",value:function(){var e=Object(v.a)(O.a.mark((function e(t){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,r=t.password,e.next=3,this.api.login({login:n,password:r});case 3:s=e.sent,this.setUser(s);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),y=n(34),C=n(76),N=n.n(C),S=n(131);var T=Object(y.a)((function(){var e=L.user;return Object(s.jsxs)("div",{className:N.a.user,children:[Object(s.jsx)("div",{className:N.a.email,children:null===e||void 0===e?void 0:e.email}),Object(s.jsx)(S.a,{className:N.a.logOutButton,onClick:function(){L.setUser(null),Object(p.d)("/")},children:"\u0412\u044b\u0439\u0442\u0438"})]})}));var I=Object(y.a)((function(){return L.user?Object(s.jsxs)("div",{className:h.a.appHeader,children:[Object(s.jsx)(p.a,{to:"/courses",children:"\u041a\u0443\u0440\u0441\u044b"}),Object(s.jsx)(T,{})]}):null})),E=n(77),F=n.n(E),J=function(){function e(t){Object(j.a)(this,e),this.isLoading=!0,this.isLoaded=!1,this.hasError=!1,this.data=void 0,this.action=void 0,this.action=t,Object(a.d)(this)}return Object(b.a)(e,[{key:"load",value:function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,this.action();case 4:this.data=e.sent,this.hasError=!1,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),this.hasError=!0;case 12:return e.prev=12,this.isLoaded=!0,this.isLoading=!1,e.finish(12);case 16:case"end":return e.stop()}}),e,this,[[0,8,12,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadIfNotLoaded",value:function(){this.isLoaded||this.load()}}]),e}(),P=function(e){return new Promise((function(t){setTimeout(t,e)}))};var U=new function e(){Object(j.a)(this,e),this.api={loadList:function(){return Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(1e3);case 2:return e.abrupt("return",[{name:"\u041a\u0443\u0440\u0441 \u043f\u043e PHP",description:"php \u0435\u0442\u043e \u043d\u0435 \u0441\u0438\u043b\u0430"},{name:"\u041a\u0443\u0440\u0441 \u043f\u043e JS",description:"js \u0435\u0442\u043e \u0441\u0438\u043b\u0430"},{name:"\u041a\u0443\u0440\u0441 \u043f\u043e C",description:"C \u0435\u0442\u043e \u043d\u0435\u043c\u043d\u043e\u0436\u043a\u043e \u0441\u0438\u043b\u0430"}]);case 3:case"end":return e.stop()}}),e)})))()}},this.list=new J(this.api.loadList)};var H=Object(y.a)((function(){return Object(c.useEffect)((function(){U.list.loadIfNotLoaded()}),[]),U.list.isLoading?Object(s.jsx)(s.Fragment,{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):U.list.hasError?Object(s.jsx)(s.Fragment,{children:"\u043e\u0448\u0438\u0431\u043a\u0430"}):Object(s.jsx)("div",{className:F.a.courses,children:U.list.data.map((function(e,t){return Object(s.jsxs)("div",{className:F.a.course,children:[Object(s.jsx)("div",{children:e.name}),Object(s.jsx)("div",{className:F.a.description,children:e.description})]},t)}))})})),A=n(3),W=n(114),q=n.n(W),z=n(275),B=n(273),G=n(274);var D=Object(y.a)((function(){function e(){return(e=Object(v.a)(O.a.mark((function e(t){var n,r,s,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.login(t);case 3:e.next=11;break;case 5:e.prev=5,e.t0=e.catch(0),console.info(e.t0),s=null===(n=e.t0.response)||void 0===n?void 0:n.statusText,a=401===(null===(r=e.t0.response)||void 0===r?void 0:r.status)?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":s||e.t0.message,z.b.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438. ".concat(a));case 11:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){L.user&&Object(p.d)("/")}),[L.user]),Object(s.jsx)("div",{className:q.a.loginWrapper,children:Object(s.jsxs)(B.a,Object(A.a)(Object(A.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",onFinish:function(t){return e.apply(this,arguments)},children:[Object(s.jsx)(B.a.Item,{label:"Login",name:"login",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 login"}],children:Object(s.jsx)(G.a,{})}),Object(s.jsx)(B.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],children:Object(s.jsx)(G.a.Password,{})}),Object(s.jsx)(B.a.Item,Object(A.a)(Object(A.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(s.jsx)(S.a,{type:"primary",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})}))]}))})})),R=n(272);var X=Object(y.a)((function(){return L.checkLogin?L.checkLogin&&!L.user?Object(s.jsx)(p.b,{to:"/login",noThrow:!0}):Object(s.jsx)(p.b,{to:"/courses",noThrow:!0}):Object(s.jsx)(R.a,{})}));var K=Object(y.a)((function(){return Object(s.jsx)("div",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})}));var M=function(){return Object(c.useEffect)((function(){var e=k("user");e?L.setUser(e):Object(p.d)("/login"),L.setCheckLogin()}),[]),Object(s.jsxs)("div",{className:l.a.app,children:[Object(s.jsx)(I,{}),Object(s.jsxs)(p.c,{className:l.a.router,children:[Object(s.jsx)(X,{path:"/"}),Object(s.jsx)(H,{path:"/courses"}),Object(s.jsx)(D,{path:"login"}),Object(s.jsx)(K,{default:!0})]})]})};(function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,276)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))})(),Object(a.b)({reactionScheduler:function(e){setTimeout(e)},enforceActions:"never"}),g.a.defaults.baseURL="https://pseudocoders.online/",o.a.render(Object(s.jsx)(M,{}),document.querySelector("#root"))},76:function(e,t,n){e.exports={user:"User_user__-bJlS"}},77:function(e,t,n){e.exports={courses:"Courses_courses__64gin",course:"Courses_course__idhz6",description:"Courses_description__2G3mt"}},84:function(e,t,n){e.exports={app:"App_app__1kX79",router:"App_router__3W9nN"}}},[[270,1,2]]]);
//# sourceMappingURL=main.874ba21f.chunk.js.map