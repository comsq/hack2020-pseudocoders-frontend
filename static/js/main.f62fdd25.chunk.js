(this.webpackJsonphackathon=this.webpackJsonphackathon||[]).push([[0],{110:function(t,e,n){t.exports={user:"User_user__-bJlS",editorButton:"User_editorButton__XCQJ6"}},111:function(t,e,n){t.exports={monitorPage:"TasksPage_monitorPage__3lLRr",searchInput:"TasksPage_searchInput__1m2Ex",searchButton:"TasksPage_searchButton__2lSiU",highlight:"TasksPage_highlight__2OtSK",status:"TasksPage_status__3cKfZ",running:"TasksPage_running__20DRu",stopped:"TasksPage_stopped__36qA5",ce:"TasksPage_ce__3Qj3t",re:"TasksPage_re__2xrwl",tle:"TasksPage_tle__OCOv8",wa:"TasksPage_wa__w8slL",ok:"TasksPage_ok__1MqG_"}},142:function(t,e,n){t.exports={content:"DefaultLayout_content__3epWu",footer:"DefaultLayout_footer__2qlk-",logo:"DefaultLayout_logo__3goRY"}},157:function(t,e,n){t.exports={app:"App_app__1kX79",router:"App_router__3W9nN"}},158:function(t,e,n){t.exports={spinnerWrapper:"PageSpinner_spinnerWrapper__2Kwx6",indicator:"PageSpinner_indicator__1MURC"}},199:function(t,e,n){t.exports={loginWrapper:"Login_loginWrapper__2rzG3"}},238:function(t,e,n){},239:function(t,e,n){},42:function(t,e,n){t.exports={removeButton:"Create_removeButton__1mZ_X",container:"Create_container__1yu4s",title:"Create_title__ZXhrt",description:"Create_description__2Smnj",preview:"Create_preview__2PFoA",paragraph:"Create_paragraph__KTCat",languges:"Create_languges__134fL",langugesTitle:"Create_langugesTitle__AMecW",selectLanguages:"Create_selectLanguages__38_Df",file:"Create_file__26DrL",fileName:"Create_fileName__3Rrmi",testHide:"Create_testHide__32DBf",addButton:"Create_addButton__1RMIv",saveButtonBlock:"Create_saveButtonBlock__PczEz",test:"Create_test__1p6Hi"}},43:function(t,e,n){t.exports={container:"Task_container__fnxTo",title:"Task_title__17f2i",author:"Task_author__2QMIz",languages:"Task_languages__1y38Q",languageItem:"Task_languageItem__1OLhj",test:"Task_test__Olo7V",testName:"Task_testName__1edoE",paragraph:"Task_paragraph__2nomt",file:"Task_file__3zvTt",fileTitle:"Task_fileTitle__ooVfH",fileContent:"Task_fileContent__3rXow",buttonBlock:"Task_buttonBlock__IqnWP",buttonEditor:"Task_buttonEditor__3EQMr",selectLang:"Task_selectLang__2WNG1",authorBlock:"Task_authorBlock__1QHzF"}},430:function(t,e,n){"use strict";n.r(e);var a,r=n(5),s=n(35),i=n(0),c=n.n(i),u=n(31),o=n.n(u),l=(n(238),n(157)),d=n.n(l),h=(n(239),n(49)),j=n(33),p=n(8),f=n.n(p),b=n(1),v=n(12),O=n(199),g=n.n(O),x=n(440),m=n(435),k=n(439),_=n(46),w=n(11),y=n(13),N=n(40),T=n.n(N),C=function(t){return new Promise((function(e){setTimeout(e,t)}))},S=function(t,e){try{return JSON.parse(t,e)}catch(n){return null}},L=function(t,e,n){try{return JSON.stringify(t,e,n)||""}catch(a){return""}},I=function(t){try{var e=localStorage.getItem(t);return null===e?e:S(e)}catch(n){return null}},E=function(t,e){try{localStorage.setItem(t,L(e))}catch(n){}},P=function(){function t(e){Object(w.a)(this,t),this.isLoading=!0,this.isLoaded=!1,this.hasError=!1,this.isConsumerInitialized=!1,this.updateTimeoutId=null,this.interval=3e3,this.data=void 0,this.action=void 0,this.action=e,Object(s.d)(this)}return Object(y.a)(t,[{key:"load",value:function(){var t=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,t.next=4,this.action();case 4:this.data=t.sent,this.hasError=!1,t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),this.hasError=!0;case 12:return t.prev=12,this.isLoaded=!0,this.isLoading=!1,t.finish(12);case 16:case"end":return t.stop()}}),t,this,[[0,8,12,16]])})));return function(){return t.apply(this,arguments)}}()},{key:"loadWithSavingState",value:function(){var t=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.action();case 3:this.data=t.sent,this.hasError=!1,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),this.hasError=!0;case 11:return t.prev=11,this.isLoaded=!0,this.isLoading=!1,t.finish(11);case 15:case"end":return t.stop()}}),t,this,[[0,7,11,15]])})));return function(){return t.apply(this,arguments)}}()},{key:"loadIfNotLoaded",value:function(){var t=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isLoaded){t.next=3;break}return t.next=3,this.load();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addConsumer",value:function(){var t=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isConsumerInitialized){t.next=2;break}return t.abrupt("return");case 2:return this.isConsumerInitialized=!0,t.next=5,this.tick(this.loadWithSavingState.bind(this));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"removeConsumer",value:function(){this.isConsumerInitialized=!1,this.updateTimeoutId&&window.clearTimeout(this.updateTimeoutId)}},{key:"tick",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(this.updateTimeoutId&&window.clearTimeout(this.updateTimeoutId),this.isConsumerInitialized){t.next=5;break}return t.abrupt("return");case 5:this.updateTimeoutId=window.setTimeout((function(){return n.tick(e)}),this.interval);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();function B(){return{login:function(t){return Object(v.a)(f.a.mark((function e(){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,a=t.password,e.next=3,T.a.post("/api/login/",{login:n,password:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))()},loadList:function(){return Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("/api/users/");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},editorStatus:function(t){return Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/tasks/editor/".concat(t,"/status/"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))()},startEditor:function(t){var e=this;return Object(v.a)(f.a.mark((function n(){var a,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.post("/tasks/editor/".concat(t,"/start/"));case 2:return n.next=4,e.editorStatus(t);case 4:a=n.sent;case 5:if("running"===(null===(r=a)||void 0===r?void 0:r.status)){n.next=13;break}return n.next=8,C(1e3);case 8:return n.next=10,e.editorStatus(t);case 10:a=n.sent,n.next=5;break;case 13:return n.abrupt("return",a);case 14:case"end":return n.stop()}}),n)})))()},stopEditor:function(t){var e=this;return Object(v.a)(f.a.mark((function n(){var a,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.post("/tasks/editor/".concat(t,"/stop/"));case 2:return n.next=4,e.editorStatus(t);case 4:a=n.sent;case 5:if("exited"===(null===(r=a)||void 0===r?void 0:r.status)){n.next=13;break}return n.next=8,C(1e3);case 8:return n.next=10,e.editorStatus(t);case 10:a=n.sent,n.next=5;break;case 13:return n.abrupt("return",a);case 14:case"end":return n.stop()}}),n)})))()}}}!function(t){t.student="student",t.teacher="teacher"}(a||(a={}));var F=function(t){return"".concat(t.first_name," ").concat(t.last_name)},M=new(function(){function t(){Object(w.a)(this,t),this.api=B(),this.checkLogin=!1,this.user=null,this.editor=null,this.list=new P(this.api.loadList),Object(s.d)(this)}return Object(y.a)(t,[{key:"reset",value:function(){this.api=B(),this.checkLogin=!1,this.user=null,this.editor=null,this.list=new P(this.api.loadList)}},{key:"setUser",value:function(t){this.user=t,E("user",this.user)}},{key:"setEditor",value:function(t){this.editor=t}},{key:"setCheckLogin",value:function(){this.checkLogin=!0}},{key:"login",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.login,a=e.password,t.next=3,this.api.login({login:n,password:a});case 3:r=t.sent,this.setUser(r);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"editorStatus",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.editorStatus(e);case 2:n=t.sent,this.setEditor(n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"startEditor",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.editor&&this.setEditor(Object(b.a)(Object(b.a)({},this.editor),{},{isLoading:!0})),t.next=3,this.api.startEditor(e);case 3:n=t.sent,this.setEditor(n);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"stopEditor",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.editor&&this.setEditor(Object(b.a)(Object(b.a)({},this.editor),{},{isLoading:!0})),t.next=3,this.api.stopEditor(e);case 3:n=t.sent,this.setEditor(n);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}());var z=Object(j.a)((function(){function t(){return(t=Object(v.a)(f.a.mark((function t(e){var n,a,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.login(e);case 3:t.next=11;break;case 5:t.prev=5,t.t0=t.catch(0),console.info(t.t0),r=null===(n=t.t0.response)||void 0===n?void 0:n.statusText,s=401===(null===(a=t.t0.response)||void 0===a?void 0:a.status)?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":r||t.t0.message,x.b.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438. ".concat(s));case 11:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){M.user&&Object(h.d)("/")}),[M.user]),Object(r.jsx)("div",{className:g.a.loginWrapper,children:Object(r.jsxs)(m.a,Object(b.a)(Object(b.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",onFinish:function(e){return t.apply(this,arguments)},children:[Object(r.jsx)(m.a.Item,{label:"Login",name:"login",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 login"}],children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(m.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}],children:Object(r.jsx)(k.a.Password,{})}),Object(r.jsx)(m.a.Item,Object(b.a)(Object(b.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(r.jsx)(_.a,{type:"primary",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})}))]}))})})),A=n(7),W=n(158),D=n.n(W),G=n(443),H=n(136);function U(){return Object(r.jsx)("div",{className:D.a.spinnerWrapper,children:Object(r.jsx)(H.a,{indicator:Object(r.jsx)(G.a,{className:D.a.indicator,spin:!0})})})}var q=Object(j.a)((function(){var t=Object(i.useState)(!1),e=Object(A.a)(t,2),n=e[0],a=e[1],s=Object(i.useRef)(!1);return Object(i.useEffect)((function(){s.current=!0,setTimeout((function(){s.current&&a(!0)}),5e3)}),[]),Object(i.useEffect)((function(){return function(){s.current=!1}}),[]),n?Object(r.jsx)(r.Fragment,{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}):Object(r.jsx)(U,{})}));var K=Object(j.a)((function(t){var e=t.children;return M.checkLogin?M.checkLogin&&!M.user?Object(r.jsx)(h.b,{to:"/login",noThrow:!0}):e:Object(r.jsx)(H.a,{})})),R=n(432),V=n(64),J=n(110),X=n.n(J),Q=n(207),Z=n.n(Q);function Y(){return{loadLanguages:function(){return Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("/api/languages/");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},saveTask:function(t){return Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/tasks/create/",Object(b.a)(Object(b.a)({},t),{},{slug:Z()(t.name)}));case 2:return n=e.sent,e.abrupt("return",n.status);case 4:case"end":return e.stop()}}),e)})))()}}}var $=new(function(){function t(){Object(w.a)(this,t),this.api=Y(),this.languages=[],this.saveProcess=!1,this.saveStatus=0,Object(s.d)(this)}return Object(y.a)(t,[{key:"reset",value:function(){this.api=Y(),this.languages=[],this.saveProcess=!1,this.saveStatus=0}},{key:"setLanguages",value:function(t){this.languages=t}},{key:"getLanguages",value:function(){var t=Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.loadLanguages();case 2:e=t.sent,this.setLanguages(e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"saveTask",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.saveProcess=!0,t.next=3,this.api.saveTask(e);case 3:n=t.sent,this.saveProcess=!1,this.saveStatus=n;case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}());function tt(){return{loadTask:function(t){return Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/tasks/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))()},loadList:function(){return Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("/api/tasks/");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},loadListByUser:function(t){return Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/users/".concat(t,"/tasks/"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))()},sendTask:function(t,e,n){return Object(v.a)(f.a.mark((function a(){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.a.post("/tasks/verify/user/".concat(t,"/task/").concat(e,"/language/").concat(n));case 2:case"end":return a.stop()}}),a)})))()}}}var et,nt=new(function(){function t(){Object(w.a)(this,t),this.api=tt(),this.task=null,this.listUser=null,this.list=new P(this.api.loadList),Object(s.d)(this)}return Object(y.a)(t,[{key:"reset",value:function(){this.api=tt(),this.task=null,this.listUser=null,this.list=new P(this.api.loadList)}},{key:"getTask",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.loadTask(e);case 2:n=t.sent,this.task=n;case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getListByUser",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.loadListByUser(e);case 2:n=t.sent,this.listUser=n;case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendTask",value:function(){var t=Object(v.a)(f.a.mark((function t(e,n,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.sendTask(e,n,a);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()}]),t}());function at(){return{loadList:function(t){return Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("api/users/".concat(t,"/task_checks/"));case 2:return n=e.sent,e.abrupt("return",n.data.sort((function(t,e){return e.date-t.date})));case 4:case"end":return e.stop()}}),e)})))()}}}!function(t){t.running="running",t.stopped="stopped",t.ce="ce",t.re="re",t.tle="tle",t.wa="wa",t.ok="ok"}(et||(et={}));var rt=new(function(){function t(){var e=this;Object(w.a)(this,t),this.api=at(),this.list=new P((function(){return e.api.loadList(M.user.id)}))}return Object(y.a)(t,[{key:"reset",value:function(){var t=this;this.api=at(),this.list=new P((function(){return t.api.loadList(M.user.id)}))}}]),t}());function st(){return{loadList:function(){return Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("api/groups/");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},createGroup:function(t){return Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("api/groups/",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))()},editGroup:function(t,e){return Object(v.a)(f.a.mark((function n(){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.patch("api/groups/".concat(t,"/"),e);case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})))()}}}var it=new(function(){function t(){Object(w.a)(this,t),this.api=st(),this.list=new P(this.api.loadList),this.isLoading=!1,Object(s.d)(this)}return Object(y.a)(t,[{key:"reset",value:function(){this.api=st(),this.list=new P(this.api.loadList),this.isLoading=!1}},{key:"createGroup",value:function(){var t=Object(v.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.api.createGroup(e);case 3:return n=t.sent,t.next=6,this.list.loadWithSavingState();case 6:return this.isLoading=!1,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"editGroup",value:function(){var t=Object(v.a)(f.a.mark((function t(e,n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.api.editGroup(e,n);case 3:return a=t.sent,t.next=6,this.list.loadWithSavingState();case 6:return this.isLoading=!1,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}());var ct=Object(j.a)((function(){var t=M.user,e=M.editor,n="running"===(null===e||void 0===e?void 0:e.status),a=n?"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440":"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440",s=null===e||void 0===e?void 0:e.isLoading;return Object(i.useEffect)((function(){t&&M.editorStatus(t.id)}),[]),Object(r.jsxs)("div",{className:X.a.user,children:[Object(r.jsx)("div",{className:X.a.email,children:null===t||void 0===t?void 0:t.email}),Object(r.jsx)(_.a,{className:X.a.editorButton,onClick:n?function(){t&&M.stopEditor(t.id)}:function(){t&&M.startEditor(t.id)},danger:n,loading:s,children:!s&&a}),Object(r.jsx)(_.a,{className:X.a.logOutButton,onClick:function(){[M,$,nt,rt,it].forEach((function(t){return t.reset()})),localStorage.clear(),Object(h.d)("/")},children:"\u0412\u044b\u0439\u0442\u0438"})]})})),ut=n.p+"static/media/logo.c8be1847.png",ot=n(142),lt=n.n(ot),dt=function(){var t,e=(t=window).open.apply(t,arguments);return e?(e.opener=null,e):e},ht=R.a.Header,jt=R.a.Content,pt=R.a.Footer;function ft(t){var e=t.children,n=t.indexMenuItem,a=t.menuItems,s=t.setIndexMenuItem;return Object(r.jsxs)(R.a,{children:[Object(r.jsx)(ht,{children:Object(r.jsxs)(V.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["".concat(n)],children:[Object(r.jsx)(V.a.Item,{children:Object(r.jsx)("img",{alt:"logo",className:lt.a.logo,src:ut})},"logo"),a.map((function(t,e){return Object(r.jsx)(V.a.Item,{onClick:function(){s(e),t.path.startsWith("http")?dt(t.path,"_blank"):Object(h.d)("/".concat(t.path))},children:t.title},"".concat(e))})),Object(r.jsx)(ct,{})]})}),Object(r.jsx)(jt,{className:lt.a.content,children:e}),Object(r.jsx)(pt,{className:lt.a.footer,children:"Pseudocoders \xa92020"})]})}var bt=function(t){return t.filter(Boolean)};var vt=Object(j.a)((function(t){var e=t.path,n=t.children,s=function(){var t,e;return bt([{title:"\u0417\u0430\u0434\u0430\u0447\u0438",path:"tasks"},(null===(t=M.user)||void 0===t?void 0:t.type)===a.teacher&&{title:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438",path:"students"},{title:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440",path:"monitoring"},"running"===(null===(e=M.editor)||void 0===e?void 0:e.status)&&{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440",path:"http://api.pseudocoders.online:".concat(M.editor.port)}])}(),c=s.findIndex((function(t){return t.path===e}));if(-1===c)throw new Error("invalid path");var u=Object(i.useState)(c),o=Object(A.a)(u,2),l=o[0],d=o[1];return Object(r.jsx)(ft,{menuItems:s,indexMenuItem:l,setIndexMenuItem:d,children:n})})),Ot=n(10),gt=n(42),xt=n.n(gt),mt=n(209),kt=n.n(mt),_t=n(108),wt=n(445),yt=n(446),Nt=(n(197),n(433)),Tt=n(444),Ct=k.a.TextArea,St=function(t){var e=t.input,n=t.output,a=t.idx,s=t.onChangeTests,c=t.onDelete,u=Object(i.useCallback)((function(t){return function(e){s(e.target.value,a,t)}}),[]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{className:xt.a.testHide,children:["\u0422\u0435\u0441\u0442 ",a+1,Object(r.jsx)(_.a,{className:xt.a.removeButton,onClick:c,icon:Object(r.jsx)(Tt.a,{}),shape:"circle",danger:!0})]}),Object(r.jsxs)("div",{className:xt.a.test,children:[Object(r.jsxs)("div",{className:xt.a.file,children:[Object(r.jsx)("p",{className:xt.a.fileName,children:"input.txt"}),Object(r.jsx)(Ct,{value:e,rows:4,onChange:u("input")})]}),Object(r.jsxs)("div",{className:xt.a.file,children:[Object(r.jsx)("p",{className:xt.a.fileName,children:"output.txt"}),Object(r.jsx)(Ct,{value:n,rows:4,onChange:u("output")})]})]})]})},Lt=_t.a.Option,It={toolbar:[[{header:[1,2,!1]}],[{color:["#FFFFFF","#000000","#3072C4","#228007","#CE0014","#D97E00","#7A1871","#F2F2F2","#808080","#1D85D0","#3F9726","#D70C17","#F69C00","#B254AA"]},"bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","code"],["clean"]]},Et=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","code","color"],Pt="TASK_NAME",Bt="TASK_DESCRIPTION",Ft="TASK_LANGUAGES",Mt="TASK_TESTS",zt="IS_SAVE",At=function(t,e){localStorage.setItem(t,JSON.stringify(e))},Wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=localStorage.getItem(t);return n?JSON.parse(n):e};var Dt=Object(j.a)((function(){Object(i.useEffect)((function(){Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.getLanguages();case 2:case"end":return t.stop()}}),t)})))()}),[]);var t=Object(i.useCallback)((function(){$.saveTask({name:Wt(Pt),languages:Wt(Ft),description:Wt(Bt),tests:Wt(Mt)}),At(zt,"on")}),[]);Object(i.useEffect)((function(){"on"===Wt(zt)&&($.saveProcess||200!==$.saveStatus?console.log("error",$.saveStatus):[Pt,Bt,Ft,Mt,zt].forEach((function(t){localStorage.removeItem(t)})))}),[$.saveProcess,$.saveStatus]);var e=Object(i.useState)(Wt(Bt)),n=Object(A.a)(e,2),a=n[0],s=n[1],c=Object(i.useState)(Wt(Mt,[{input:"",output:""}])),u=Object(A.a)(c,2),o=u[0],l=u[1],d=Object(i.useState)(Wt(Pt)),h=Object(A.a)(d,2),j=h[0],p=h[1],O=Object(i.useState)(Wt(Ft,[])),g=Object(A.a)(O,2),x=g[0],m=g[1],w=Object(Nt.a)((function(t,e){At(t,e)}),300),y=Object(i.useCallback)((function(t){var e=t.target.value;p(e),w.callback(Pt,e)}),[p]),N=Object(i.useCallback)((function(t){s(t),w.callback(Bt,t)}),[s]),T=Object(i.useCallback)((function(t){m(t),w.callback(Ft,t)}),[]),C=Object(i.useCallback)((function(t,e,n){var a=Object(Ot.a)(o);a[e][n]=t,l(a),w.callback(Mt,a)}),[o]),S=Object(i.useCallback)((function(){l([].concat(Object(Ot.a)(o),[{input:"",output:""}]))}),[l,o]),L=function(t){return function(){var e=o.filter((function(e,n){return n!==t}));l(e),w.callback(Mt,e)}},I=Object(i.useMemo)((function(){return $.languages.map((function(t){return Object(r.jsx)(Lt,{value:t.slug,children:t.name},t.slug)}))}),[$.languages]);return Object(r.jsx)("div",{className:xt.a.createTask,children:Object(r.jsxs)("div",{className:xt.a.container,children:[Object(r.jsx)("h1",{className:xt.a.title,children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(r.jsx)("p",{className:xt.a.description,children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438. \u0414\u043b\u044f \u043a\u0440\u0430\u0441\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u0446\u0432\u0435\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u0441\u043f\u0438\u0441\u043a\u0438 \u0438 \u043a\u043e\u0434."}),Object(r.jsxs)("div",{className:xt.a.languges,children:[Object(r.jsx)("div",{className:xt.a.langugesTitle,children:"\u042f\u0417\u042b\u041a\u0418 \u041f\u0420\u041e\u0413\u0420\u0410\u041c\u041c\u0418\u0420\u041e\u0412\u0410\u041d\u0418\u042f"}),Object(r.jsx)(_t.a,{className:xt.a.selectLanguages,mode:"tags",size:"middle",placeholder:"Please select",defaultValue:x,onChange:T,style:{minWidth:"200px"},children:I})]}),Object(r.jsx)("div",{style:{marginBottom:16},children:Object(r.jsx)(k.a,{value:j,onChange:y,addonBefore:"\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415 \u0417\u0410\u0414\u0410\u0427\u0418",placeholder:"\u0411\u0438\u0444\u0448\u0442\u0435\u043a\u0441\u044b..."})}),Object(r.jsx)("div",{className:"text-editor",children:Object(r.jsx)(kt.a,{theme:"snow",modules:It,formats:Et,value:a,onChange:N})}),(a||j)&&Object(r.jsxs)("div",{className:xt.a.preview,children:[Object(r.jsx)("h3",{className:xt.a.paragraph,children:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"}),Object(r.jsx)("h2",{children:j}),Object(r.jsx)("div",{style:{padding:0},className:"ql-editor",dangerouslySetInnerHTML:{__html:a}})]}),Object(r.jsx)("h3",{className:xt.a.paragraph,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u044b"}),o.map((function(t,e){return Object(r.jsx)(St,Object(b.a)(Object(b.a)({idx:e},t),{},{onChangeTests:C,onDelete:L(e)}),e)})),Object(r.jsx)(_.a,{className:xt.a.addButton,onClick:S,icon:Object(r.jsx)(wt.a,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0441\u0442"}),Object(r.jsx)("div",{className:xt.a.saveButtonBlock,children:Object(r.jsx)(_.a,{type:"primary",onClick:t,icon:Object(r.jsx)(yt.a,{}),children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})})]})})}));var Gt=Object(j.a)((function(){return Object(r.jsx)(K,{children:Object(r.jsx)(vt,{path:"tasks",children:Object(r.jsx)(Dt,{})})})})),Ht=n(85),Ut=n.n(Ht),qt=n(438),Kt=n(441),Rt=n(436),Vt=_t.a.Option;var Jt=Object(j.a)((function(){var t="currentGroupId",e=Object(i.useState)(),n=Object(A.a)(e,2),a=n[0],s=n[1],c=Object(i.useState)(!1),u=Object(A.a)(c,2),o=u[0],l=u[1],d=Object(i.useState)(!1),h=Object(A.a)(d,2),j=h[0],p=h[1],b=j,O=Object(i.useRef)(!1);function g(){return(g=Object(v.a)(f.a.mark((function e(){var n,a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I(t),(r=null===(n=it.list.data)||void 0===n?void 0:n.find((function(t){return t.id===a})))&&s(r),e.next=5,it.list.loadWithSavingState();case 5:return e.next=7,M.list.loadWithSavingState();case 7:return e.next=9,nt.list.loadWithSavingState();case 9:r||(r=a?it.list.data.find((function(t){return t.id===a})):null===(i=it.list.data)||void 0===i?void 0:i[0]),O.current&&s(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(i.useEffect)((function(){return O.current=!0,function(){g.apply(this,arguments)}(),function(){O.current=!1}}),[]),it.list.isLoading||M.list.isLoading||nt.list.isLoading||!a)return Object(r.jsx)(U,{});if(it.list.hasError)return Object(r.jsx)(r.Fragment,{children:"\u0413\u0440\u0443\u043f\u043f\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b"});function w(e){var n=it.list.data.find((function(t){return t.id===e}));s(n),E(t,null===n||void 0===n?void 0:n.id)}function y(t){return N.apply(this,arguments)}function N(){return(N=Object(v.a)(f.a.mark((function t(e){var n,r,i,c,u,o,d,h,j;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.name,r=e.studentIds,i=e.taskIds,t.prev=1,c=null,!b){t.next=9;break}return t.next=6,it.editGroup(a.id,{name:n,users:r,tasks:i});case 6:c=t.sent,t.next=12;break;case 9:return t.next=11,it.createGroup({name:n,users:r,tasks:i,owner:M.user.id,slug:n+Math.random()});case 11:c=t.sent;case 12:l(!1),p(!1),c&&s(c),u="\u0413\u0440\u0443\u043f\u043f\u0430 ".concat(n,b?" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430!":" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430!"),x.b.success(u),t.next=25;break;case 19:t.prev=19,t.t0=t.catch(1),console.info(t.t0),h=null===(o=t.t0.response)||void 0===o?void 0:o.statusText,j=401===(null===(d=t.t0.response)||void 0===d?void 0:d.status)?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":h||t.t0.message,x.b.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c ".concat(b?"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c"," \u0433\u0440\u0443\u043f\u043f\u0443. ").concat(j));case 25:case"end":return t.stop()}}),t,null,[[1,19]])})))).apply(this,arguments)}function T(){l(!1),p(!1)}return Object(r.jsxs)("div",{className:Ut.a.groups,children:[function(){var t=b?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b ".concat(null===a||void 0===a?void 0:a.name):"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",e=b&&a?{name:a.name,taskIds:a.tasks,studentIds:a.users}:void 0;return Object(r.jsx)(qt.a,{onCancel:T,title:t,footer:null,visible:o||j,destroyOnClose:!0,children:Object(r.jsxs)(m.a,{name:"basic",initialValues:e,onFinish:y,children:[Object(r.jsx)(m.a.Item,{label:"\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b",name:"name",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b"}],children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(m.a.Item,{name:"studentIds",label:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u0443\u0447\u0435\u043d\u0438\u043a\u0430"}],children:Object(r.jsx)(_t.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432",mode:"multiple",children:M.list.data.map((function(t){return Object(r.jsx)(Vt,{value:t.id,children:F(t)},t.id)}))})}),Object(r.jsx)(m.a.Item,{name:"taskIds",label:"\u0417\u0430\u0434\u0430\u0447\u0438",rules:[{required:!0,message:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0437\u0430\u0434\u0430\u0447\u0443"}],children:Object(r.jsx)(_t.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",mode:"multiple",children:nt.list.data.map((function(t){return Object(r.jsx)(Vt,{value:t.id,children:t.name},t.id)}))})}),Object(r.jsxs)("div",{className:Ut.a.footer,children:[Object(r.jsx)(m.a.Item,{children:Object(r.jsx)(_.a,{loading:it.isLoading,type:"primary",htmlType:"submit",children:b?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),Object(r.jsx)(m.a.Item,{children:Object(r.jsx)(_.a,{onClick:T,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})})]})]})})}(),Object(r.jsxs)("div",{className:Ut.a.subHeader,children:[function(){var t=it.list.data.map((function(t){return Object(r.jsx)(Vt,{value:t.id,children:t.name},t.id)}));return Object(r.jsx)(m.a.Item,{label:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432",children:Object(r.jsx)(_t.a,{value:null===a||void 0===a?void 0:a.id,style:{width:300},onChange:w,children:t})})}(),Object(r.jsx)(_.a,{onClick:function(){return p(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"}),Object(r.jsx)(_.a,{type:"primary",onClick:function(){return l(!0)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"})]}),Object(r.jsxs)("div",{className:Ut.a.studentsAndTasks,children:[Object(r.jsx)(Kt.b,{locale:{emptyText:"\u0412 \u044d\u0442\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043d\u0435\u0442 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432"},header:Object(r.jsx)(Rt.a,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435"}),className:Ut.a.students,itemLayout:"horizontal",dataSource:M.list.data.filter((function(t){return a.users.includes(t.id)})),renderItem:function(t){return Object(r.jsx)(Kt.b.Item,{children:F(t)})}}),Object(r.jsx)(Kt.b,{locale:{emptyText:"\u0412 \u044d\u0442\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447"},header:Object(r.jsx)(Rt.a,{title:"\u0417\u0430\u0434\u0430\u0447\u0438 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435"}),className:Ut.a.tasks,itemLayout:"horizontal",dataSource:nt.list.data.filter((function(t){return a.tasks.includes(t.id)})),renderItem:function(t){return Object(r.jsx)(Kt.b.Item,{children:t.name})}})]})]})}));var Xt=Object(j.a)((function(){return Object(r.jsx)(K,{children:Object(r.jsx)(vt,{path:"students",children:Object(r.jsx)(Jt,{})})})})),Qt=n(79),Zt=n.n(Qt),Yt=n(437),$t=n(442),te=n(434),ee=n(139),ne=n.n(ee),ae=n(447);var re=Object(j.a)((function(){var t,e=Object(i.useState)(""),n=Object(A.a)(e,2),s=n[0],c=n[1],u=Object(i.useState)(""),o=Object(A.a)(u,2),l=o[0],d=o[1],h=Object(i.useRef)(),j=(null===(t=M.user)||void 0===t?void 0:t.type)===a.teacher;if(Object(i.useEffect)((function(){return rt.list.addConsumer(),function(){rt.list.removeConsumer()}}),[]),rt.list.isLoading)return Object(r.jsx)(U,{});if(rt.list.hasError)return Object(r.jsx)(r.Fragment,{children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"});function p(t){return function(e,n){return String(e[t]).localeCompare(String(n[t]))}}function f(t,e){return t<100&&e!==et.running?"exception":100===t?"success":"active"}function v(t){return{filterDropdown:function(e){var n=e.setSelectedKeys,a=e.selectedKeys,s=e.confirm,i=e.clearFilters;return Object(r.jsxs)("div",{style:{padding:8},children:[Object(r.jsx)(k.a,{ref:h,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e ".concat(t),value:a[0],onChange:function(t){return n(t.target.value?[t.target.value]:[])},onPressEnter:function(){return O(a,s,t)},className:Zt.a.searchInput}),Object(r.jsxs)($t.b,{children:[Object(r.jsx)(_.a,{type:"primary",onClick:function(){return O(a,s,t)},icon:Object(r.jsx)(ae.a,{}),size:"small",className:Zt.a.searchButton,children:"\u041f\u043e\u0438\u0441\u043a"}),Object(r.jsx)(_.a,{onClick:function(){return function(t){t(),c("")}(i)},size:"small",className:Zt.a.searchButton,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})},filterIcon:function(t){return Object(r.jsx)(ae.a,{style:{color:t?"#1890ff":void 0}})},onFilter:function(e,n){return n[t]?n[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){var t;return null===(t=h.current)||void 0===t?void 0:t.select()}),100)},render:function(e){return l===t?Object(r.jsx)(ne.a,{highlightClassName:Zt.a.highlight,searchWords:[s],autoEscape:!0,textToHighlight:e?e.toString():""}):e}}}function O(t,e,n){e(),c(t[0]),d(n)}return Object(r.jsx)("div",{className:Zt.a.courses,children:Object(r.jsx)(te.a,{locale:{emptyText:j?"\u0423\u0447\u0435\u043d\u0438\u043a\u0438 \u0435\u0449\u0435 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f":"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f"},dataSource:rt.list.data.map((function(t){var e=t.date,n=t.user,a=t.task,s=t.task_author,i=t.language,c=t.id,u=t.passed_tests_count,o=t.tests_count,l=t.status,d=new Date(e),h=Math.round(100*u/o);return{key:c,dateObj:d,date:"".concat(d.toLocaleDateString()," ").concat(d.toLocaleTimeString()),userName:F(j?n:s),taskName:a.name,language:i.name,testCount:"".concat(u,"/").concat(o),status:Object(r.jsxs)("div",{className:Zt.a.status,children:[Object(r.jsx)("div",{className:Zt.a[l],children:l}),Object(r.jsx)(Yt.a,{type:"circle",width:30,percent:h,status:f(h,l)})]})}})),columns:bt([{title:"\u0414\u0430\u0442\u0430",dataIndex:"date",sorter:function(t,e){return Number(t.dateObj)-Number(e.dateObj)}},j?Object(b.a)({title:"\u0423\u0447\u0435\u043d\u0438\u043a",dataIndex:"userName",sorter:p("userName")},v("userName")):Object(b.a)({title:"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438",dataIndex:"userName",sorter:p("userName")},v("userName")),Object(b.a)({title:"\u0417\u0430\u0434\u0430\u0447\u0430",dataIndex:"taskName",sorter:p("taskName")},v("taskName")),Object(b.a)({title:"\u042f\u0437\u044b\u043a",dataIndex:"language",sorter:p("language")},v("language")),{title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",dataIndex:"status"},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432",dataIndex:"testCount"}])})})}));var se=Object(j.a)((function(){return Object(r.jsx)(K,{children:Object(r.jsx)(vt,{path:"monitoring",children:Object(r.jsx)(re,{})})})})),ie=n(43),ce=n.n(ie),ue=_t.a.Option;var oe=Object(j.a)((function(t){var e,n,s,u,o=t.slug,l=null===(e=M.editor)||void 0===e?void 0:e.port,d=null===(n=M.user)||void 0===n?void 0:n.login,h=Object(i.useState)(""),j=Object(A.a)(h,2),p=j[0],b=j[1];Object(i.useEffect)((function(){Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt.getTask(o);case 2:case"end":return t.stop()}}),t)})))()}),[]);var O=Object(i.useCallback)((function(){console.log("lang",p),Object(v.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt.sendTask(null===(e=M.user)||void 0===e?void 0:e.id,nt.task.id,p);case 2:window.location.pathname="/monitoring";case 3:case"end":return t.stop()}}),t)})))()}),[p,M.user,nt.task]),g=null===(s=M.user)||void 0===s?void 0:s.type,x=vt,m=Object(i.useMemo)((function(){var t;return null===(t=nt.task)||void 0===t?void 0:t.languages.map((function(t){return Object(r.jsx)(ue,{value:t.id,children:t.name},t.id)}))}),[nt.task]);return Object(r.jsx)(x,{path:"tasks",children:nt.task?Object(r.jsxs)("div",{className:ce.a.container,children:[nt.task.name&&Object(r.jsx)("h1",{className:ce.a.title,children:nt.task.name}),Object(r.jsxs)("div",{className:ce.a.authorBlock,children:[nt.task.author&&Object(r.jsxs)("p",{className:ce.a.author,children:[nt.task.author.first_name," ",nt.task.author.first_name," (",nt.task.author.login,")"]}),nt.task.languages&&Object(r.jsx)("div",{className:ce.a.languages,children:nt.task.languages.map((function(t,e){return Object(r.jsx)("div",{className:ce.a.languageItem,children:t.name},e)}))})]}),nt.task.description&&Object(r.jsx)("div",{style:{padding:"30px 0"},className:"ql-editor",dangerouslySetInnerHTML:{__html:nt.task.description}}),nt.task.tests&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{className:ce.a.paragraph,children:"\u041f\u0420\u0418\u041c\u0415\u0420\u042b \u0422\u0415\u0421\u0422\u041e\u0412:"}),nt.task.tests.map((function(t,e){var n=t.input,a=t.output;return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)("p",{className:ce.a.testName,children:["Test ",e+1]}),Object(r.jsxs)("div",{className:ce.a.test,children:[Object(r.jsxs)("div",{className:ce.a.file,children:[Object(r.jsx)("p",{className:ce.a.fileTitle,children:"input.txt"}),Object(r.jsx)("div",{className:ce.a.fileContent,dangerouslySetInnerHTML:{__html:n}})]}),Object(r.jsxs)("div",{className:ce.a.file,children:[Object(r.jsx)("p",{className:ce.a.fileTitle,children:"output.txt"}),Object(r.jsx)("div",{className:ce.a.fileContent,dangerouslySetInnerHTML:{__html:a}})]})]})]},e)}))]}),Object(r.jsx)("div",{className:ce.a.buttonBlock,children:g===a.student?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(_.a,{onClick:O,disabled:!(null===(u=M.user)||void 0===u?void 0:u.id)||!p||!nt.task.id,type:"primary",children:"\u0421\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(r.jsx)(_t.a,{className:ce.a.selectLang,onChange:b,defaultValue:"",children:m})]}),Object(r.jsx)(_.a,{className:ce.a.buttonEditor,disabled:!(l&&d),href:"http://api.pseudocoders.online:".concat(l,"/?folder=/home/").concat(d,"/project/").concat(o),type:"primary",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u043a\u043e\u0434\u0430"})]}):Object(r.jsx)(_.a,{href:"task/".concat(o,"/edit"),type:"primary",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})})]}):Object(r.jsx)(U,{})})})),le=n(111),de=n.n(le);var he=Object(j.a)((function(){var t=M.user;Object(i.useEffect)((function(){Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,nt.getListByUser(null===(n=M.user)||void 0===n?void 0:n.id);case 3:case"end":return e.stop()}}),e)})))()}),[t]);var e=nt.listUser,n=Object(i.useState)(""),s=Object(A.a)(n,2),c=s[0],u=s[1],o=Object(i.useState)(""),l=Object(A.a)(o,2),d=l[0],j=l[1],p=Object(i.useRef)();function O(t){return function(e,n){return String(e[t]).localeCompare(String(n[t]))}}function g(t){return t||"no solution"}function x(t){return{filterDropdown:function(e){var n=e.setSelectedKeys,a=e.selectedKeys,s=e.confirm,i=e.clearFilters;return Object(r.jsxs)("div",{style:{padding:8},children:[Object(r.jsx)(k.a,{ref:p,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e ".concat(t),value:a[0],onChange:function(t){return n(t.target.value?[t.target.value]:[])},onPressEnter:function(){return m(a,s,t)},className:de.a.searchInput}),Object(r.jsxs)($t.b,{children:[Object(r.jsx)(_.a,{type:"primary",onClick:function(){return m(a,s,t)},icon:Object(r.jsx)(ae.a,{}),size:"small",className:de.a.searchButton,children:"\u041f\u043e\u0438\u0441\u043a"}),Object(r.jsx)(_.a,{onClick:function(){return function(t){t(),u("")}(i)},size:"small",className:de.a.searchButton,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})},filterIcon:function(t){return Object(r.jsx)(ae.a,{style:{color:t?"#1890ff":void 0}})},onFilter:function(e,n){return n[t]?n[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){var t;return null===(t=p.current)||void 0===t?void 0:t.select()}),100)},render:function(e){return d===t?Object(r.jsx)(ne.a,{highlightClassName:de.a.highlight,searchWords:[c],autoEscape:!0,textToHighlight:e?e.toString():""}):e}}}function m(t,e,n){e(),u(t[0]),j(n)}return e?Object(r.jsx)("div",{children:Object(r.jsx)(te.a,{locale:{emptyText:"\u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a"},dataSource:e.map((function(e){var n=e.author,s=e.languages,i=e.name,c=e.slug,u=e.verdict,o=e.id,l=(null===t||void 0===t?void 0:t.type)===a.teacher?void 0:Object(r.jsx)("div",{children:g(u)});return{author:F(n),name:Object(r.jsx)(h.a,{to:"/task/".concat(c),children:i}),languages:s.map((function(t){return t.name})).join(" "),verdict:l,key:o}})),columns:function(){var t,e,n=[{title:"\u0417\u0430\u0434\u0430\u0447\u0430",dataIndex:"name"},(null===(t=M.user)||void 0===t?void 0:t.type)===a.student&&Object(b.a)({title:"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438",dataIndex:"author",sorter:O("author")},x("author")),Object(b.a)({title:"\u042f\u0437\u044b\u043a\u0438",dataIndex:"languages",sorter:O("languages")},x("languages")),(null===(e=M.user)||void 0===e?void 0:e.type)===a.student&&Object(b.a)({title:"\u0412\u0435\u0440\u0434\u0438\u043a\u0442",dataIndex:"verdict",sorter:O("verdict")},x("verdict"))].filter(Boolean);return bt(n)}()})}):Object(r.jsx)(U,{})}));var je=Object(j.a)((function(){return Object(r.jsx)(K,{children:Object(r.jsx)(vt,{path:"tasks",children:Object(r.jsx)(he,{})})})}));var pe=Object(j.a)((function(){var t,e;return Object(i.useEffect)((function(){var t=I("user");t?M.setUser(t):Object(h.d)("/login"),M.setCheckLogin()}),[null===(t=M.user)||void 0===t?void 0:t.id]),Object(r.jsx)("div",{className:d.a.app,children:Object(r.jsxs)(h.c,{className:d.a.router,children:[(null===(e=M.user)||void 0===e?void 0:e.type)===a.teacher&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Gt,{path:"/create"}),Object(r.jsx)(Xt,{path:"/students"})]}),Object(r.jsx)(se,{path:"/monitoring"}),Object(r.jsx)(je,{path:"/"}),Object(r.jsx)(je,{path:"/tasks"}),Object(r.jsx)(z,{path:"/login"}),Object(r.jsx)(oe,{path:"/task/:slug"}),Object(r.jsx)(q,{default:!0})]})})}));(function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,448)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))})(),Object(s.b)({reactionScheduler:function(t){setTimeout(t)},enforceActions:"never"}),T.a.defaults.baseURL="https://api.pseudocoders.online/",o.a.render(Object(r.jsx)(pe,{}),document.querySelector("#root"))},79:function(t,e,n){t.exports={monitorPage:"MonitorPage_monitorPage__3Swvy",searchInput:"MonitorPage_searchInput__2zUrS",searchButton:"MonitorPage_searchButton__9755l",highlight:"MonitorPage_highlight__2HHpn",status:"MonitorPage_status__1t-Hc",running:"MonitorPage_running__3B_bI",stopped:"MonitorPage_stopped__2ciuC",ce:"MonitorPage_ce__lzXwx",re:"MonitorPage_re__1d08p",tle:"MonitorPage_tle__2tGX7",wa:"MonitorPage_wa__2Avzh",ok:"MonitorPage_ok__2MvUh"}},85:function(t,e,n){t.exports={groups:"GroupsPage_groups__LjNlr",studentsAndTasks:"GroupsPage_studentsAndTasks__2zGq8",subHeader:"GroupsPage_subHeader__2qgjy",footer:"GroupsPage_footer__3XtVy"}}},[[430,1,2]]]);
//# sourceMappingURL=main.f62fdd25.chunk.js.map